<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Meteor Premium - A√ßƒ±k Kaynak Deposu - UMOSP</title>
    <style>
        /* Tam Ekran D√ºzeni - Hafif Sarƒ± Tema */
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: linear-gradient(to bottom right, #fff8e1, #ffecb3); /* Hafif sarƒ± degrade */
            font-family: 'Arial', sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #333;
            text-align: center;
        }

        .container {
            padding: 2rem;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            background-color: rgba(255, 255, 255, 0.85); /* Beyaz yarƒ± ≈üeffaf */
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(255, 193, 7, 0.3); /* Sarƒ± g√∂lge */
            border: 2px solid #ffd54f; /* Sarƒ± border */
        }

        /* Ba≈ülƒ±k Stili - Sarƒ± Tema */
        h1 {
            font-size: 3rem;
            color: #ff9800; /* Turuncu-sarƒ± */
            text-shadow: 0 0 15px #ffb300;
            margin-bottom: 0.5rem;
        }

        h2 {
            font-size: 1.5rem;
            color: #5d4037; /* Kahverengi */
            margin-bottom: 2rem;
        }

        /* Buton Stilleri */
        .btn-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 3rem;
            flex-wrap: wrap;
        }

        .btn {
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-size: 1.2rem;
            min-width: 220px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            display: inline-block;
            font-weight: bold;
        }

        .btn-download {
            background: linear-gradient(to bottom, #ff9800, #f57c00); /* Turuncu */
            box-shadow: 0 5px 15px rgba(255, 152, 0, 0.4);
        }

        .btn-upload {
            background: linear-gradient(to bottom, #4caf50, #388e3c); /* Ye≈üil */
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 193, 7, 0.6);
        }

        /* Kaynak Metin Alanƒ± */
        #source-text {
            width: 100%;
            height: 250px;
            padding: 10px;
            border: 2px solid #ffb300;
            background-color: #fffde7; /* √áok a√ßƒ±k sarƒ± */
            color: #333;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 0.9rem;
            resize: none;
            border-radius: 8px;
            margin-top: 1.5rem;
            text-align: left;
            overflow-y: auto;
            line-height: 1.4;
        }

        /* A√ßƒ±klama metni */
        p {
            color: #5d4037;
            font-size: 1.1rem;
            margin: 1rem 0;
            line-height: 1.5;
        }

        /* Ba≈üarƒ± mesajƒ± i√ßin */
        .success-message {
            background: linear-gradient(to bottom, #4caf50, #388e3c);
            color: white;
            padding: 0.8rem;
            border-radius: 10px;
            margin-top: 1rem;
            display: none;
            font-weight: bold;
        }

    </style>
</head>
<body>
    <div class="container">
        <h1>üåü ULTIMATE METEOR PREMIUM üåü</h1>
        <h2>Premium A√ßƒ±k Kaynak Kod Deposu</h2>
        <p>A≈üaƒüƒ±da oyunumuzun <strong>Premium</strong> kaynak kodunu g√∂rebilirsin.</p>
        <p>‚ú® <strong>Premium √ñzellikler:</strong> Altƒ±n sistemi, Maƒüaza, Geli≈ümi≈ü Skinler, Kayƒ±t Sistemi</p>

        <textarea id="source-text" readonly>
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ULTIMATE METEOR PREMIUM EDITION</title>
    <style>
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #000;
            touch-action: manipulation;
            font-family: 'Arial', sans-serif;
            height: 100vh;
        }
        #gameCanvas {
            display: block;
            margin: 0 auto;
            background-color: #000;
        }
        #menu {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: radial-gradient(ellipse at center, rgba(0,20,50,0.9) 0%, rgba(0,0,0,0.95) 100%);
            z-index: 100;
            color: white;
            text-align: center;
        }
        .btn {
            background: linear-gradient(to bottom, #FFD700, #FFA500);
            color: black;
            border: none;
            padding: 1rem 2rem;
            margin: 1rem;
            border-radius: 50px;
            font-size: 1.2rem;
            min-width: 200px;
            cursor: pointer;
            font-weight: bold;
        }
        #controls {
            position: absolute;
            bottom: 2rem;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 2rem;
        }
        .control-btn {
            background: rgba(255, 215, 0, 0.3);
            color: white;
            border: none;
            width: 4rem;
            height: 4rem;
            border-radius: 50%;
            font-size: 1.5rem;
        }
        #shootBtn {
            background: rgba(255, 0, 0, 0.5);
        }
        #pauseBtn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255, 215, 0, 0.7);
            color: black;
            border: none;
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            font-size: 1.2rem;
            z-index: 50;
            display: none;
            font-weight: bold;
        }
        #gameInfo {
            position: absolute;
            top: 1rem;
            left: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            color: white;
            font-size: 1.2rem;
            z-index: 50;
        }
        #lives, #scoreDisplay, #goldDisplay {
            background: rgba(0, 0, 0, 0.5);
            padding: 0.5rem 1rem;
            border-radius: 10px;
            border: 1px solid #FFD700;
        }
        .diff-btn {
            background: rgba(255,215,0,0.2);
            padding: 0.8rem 1.5rem;
            margin: 0.5rem;
            border-radius: 20px;
            color: white;
            border: none;
        }
        .diff-btn.active {
            background: #FFD700;
            color: black;
        }
        #difficulty-container {
            display: flex;
            margin: 1rem 0;
        }
        #language-btn {
            background: transparent;
            border: 2px solid #FFD700;
            color: #FFD700;
            margin-top: 1rem;
        }
        /* Yeni Premium Stiller */
        #shopBtn {
            background: linear-gradient(to bottom, #00FF00, #008800);
            color: white;
        }
        #shopMenu {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 200;
            display: none;
            flex-direction: column;
            align-items: center;
            color: white;
            overflow-y: auto;
            padding: 1rem;
        }
        .shop-header {
            position: sticky;
            top: 0;
            background: rgba(0,0,0,0.9);
            width: 100%;
            padding: 1rem;
            text-align: center;
            border-bottom: 2px solid #FFD700;
            z-index: 201;
        }
        .shop-content {
            width: 100%;
            max-width: 500px;
            padding: 1rem;
        }
        .shop-item {
            background: rgba(255,215,0,0.1);
            border: 2px solid #FFD700;
            border-radius: 15px;
            padding: 1rem;
            margin: 0.5rem 0;
            width: 100%;
            text-align: center;
            cursor: pointer;
        }
        .shop-item:hover {
            background: rgba(255,215,0,0.3);
        }
        .shop-item.unlocked {
            border-color: #00FF00;
            background: rgba(0,255,0,0.1);
        }
        .locked {
            opacity: 0.6;
        }
        .price-tag {
            color: #FFD700;
            font-weight: bold;
            margin: 0.5rem 0;
        }
        .back-btn {
            position: fixed;
            top: 1rem;
            left: 1rem;
            background: rgba(255,0,0,0.7);
            color: white;
            border: none;
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            font-size: 1.2rem;
            z-index: 202;
            cursor: pointer;
        }
        .shop-buttons {
            position: sticky;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            width: 100%;
            padding: 1rem;
            text-align: center;
            border-top: 2px solid #FFD700;
        }
        /* Ana men√ºde altƒ±n g√∂sterimi */
        #menuGoldDisplay {
            background: rgba(255,215,0,0.2);
            border: 2px solid #FFD700;
            border-radius: 20px;
            padding: 0.8rem 1.5rem;
            margin: 1rem;
            font-size: 1.2rem;
            font-weight: bold;
            color: #FFD700;
        }
        /* Reset butonu */
        #resetBtn {
            background: linear-gradient(to bottom, #FF4444, #CC0000);
            color: white;
            margin-top: 0.5rem;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    
    <button id="pauseBtn">‚è∏</button>
    
    <div id="gameInfo">
        <div id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
        <div id="scoreDisplay">Score: 0</div>
        <div id="goldDisplay">üí∞ Gold: 0</div>
    </div>
    
    <div id="menu">
        <h1 class="menu-title">üåü ULTIMATE METEOR PREMIUM üåü</h1>
        
        <!-- Ana men√ºde altƒ±n g√∂sterimi -->
        <div id="menuGoldDisplay">üí∞ Gold: 0</div>
        
        <div id="difficulty-container">
            <button class="diff-btn active" id="easyBtn">EASY</button>
            <button class="diff-btn" id="normalBtn">NORMAL</button>
            <button class="diff-btn" id="hardBtn">HARD</button>
        </div>
        
        <button class="btn" id="startBtn">START GAME</button>
        <button class="btn" id="shopBtn">üåü SHOP</button>
        <button class="btn" id="language-btn">LANGUAGE: ENGLISH</button>
        <button class="btn" id="resetBtn">RESET DATA</button>
    </div>

    <div id="shopMenu">
        <button class="back-btn" id="shopBackBtn">‚Üê</button>
        
        <div class="shop-header">
            <h2>üåü PREMIUM SHOP üåü</h2>
            <div id="goldDisplayShop">Gold: 0</div>
        </div>
        
        <div class="shop-content">
            <div id="shopItems">
                <!-- Shop items will be generated here -->
            </div>
        </div>
        
        <div class="shop-buttons">
            <button class="btn" id="backBtn">BACK TO MENU</button>
        </div>
    </div>
    
    <div id="controls">
        <button class="control-btn" id="leftBtn">‚Üê</button>
        <button class="control-btn" id="shootBtn">üî¥</button>
        <button class="control-btn" id="rightBtn">‚Üí</button>
    </div>

    <script>
        // Premium Oyun ayarlarƒ±
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const menu = document.getElementById('menu');
        const shopMenu = document.getElementById('shopMenu');
        const pauseBtn = document.getElementById('pauseBtn');
        const livesDisplay = document.getElementById('lives');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const goldDisplay = document.getElementById('goldDisplay');
        const goldDisplayShop = document.getElementById('goldDisplayShop');
        const menuGoldDisplay = document.getElementById('menuGoldDisplay');
        
        // Canvas boyutunu ayarla
        function resizeCanvas() {
            const size = Math.min(window.innerWidth, window.innerHeight);
            canvas.width = size * 0.95;
            canvas.height = size * 1.3;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);
        
        // Oyun durumu
        let gameActive = false;
        let gamePaused = false;
        let lives = 3;
        let score = 0;
        let gold = 0;
        let language = 'English';
        let difficulty = 'Easy';
        let meteorsDestroyed = 0;
        
        // Premium Gemi Skinleri - 35 altƒ±n
        const shipSkins = {
            default: { color: '#44AAFF', name: 'Blue Fighter', unlocked: true },
            premium: { color: '#FFD700', name: 'Golden Warrior', price: 35, unlocked: false },
            fire: { color: '#FF4500', name: 'Fire Blaster', price: 35, unlocked: false },
            ice: { color: '#00FFFF', name: 'Ice Guardian', price: 35, unlocked: false },
            neon: { color: '#FF00FF', name: 'Neon Phantom', price: 35, unlocked: false }
        };

        // Premium Meteor Skinleri - 25 altƒ±n
        const meteorSkins = {
            default: { color: '#FF0000', name: 'Red Meteor', unlocked: true },
            gold: { color: '#FFD700', name: 'Golden Meteor', price: 25, unlocked: false },
            crystal: { color: '#87CEEB', name: 'Crystal Meteor', price: 25, unlocked: false },
            lava: { color: '#FF8C00', name: 'Lava Meteor', price: 25, unlocked: false },
            cosmic: { color: '#9370DB', name: 'Cosmic Meteor', price: 25, unlocked: false }
        };

        let currentShipSkin = 'default';
        let currentMeteorSkin = 'default';

        // Dil metinleri - Premium versiyon
        const texts = {
            English: {
                start: 'START GAME',
                easy: 'EASY',
                normal: 'NORMAL',
                hard: 'HARD',
                language: 'LANGUAGE: ENGLISH',
                lives: 'Lives: ',
                score: 'Score: ',
                gold: 'Gold: ',
                pause: 'PAUSED',
                shop: 'üåü SHOP',
                back: 'BACK TO MENU',
                buy: 'BUY',
                owned: 'OWNED',
                price: 'Price: ',
                goldEarned: 'Gold Earned: ',
                reset: 'RESET DATA',
                resetConfirm: 'All data will be deleted! Are you sure?',
                dataLoaded: 'Game data loaded!',
                dataSaved: 'Progress saved!'
            },
            Turkish: {
                start: 'OYUNU BA≈ûLAT',
                easy: 'KOLAY',
                normal: 'NORMAL',
                hard: 'ZOR',
                language: 'Dƒ∞L: T√úRK√áE',
                lives: 'Can: ',
                score: 'Skor: ',
                gold: 'Altƒ±n: ',
                pause: 'DURAKLATILDI',
                shop: 'üåü MAƒûAZA',
                back: 'MEN√úYE D√ñN',
                buy: 'SATIN AL',
                owned: 'SATIN ALINDI',
                price: 'Fiyat: ',
                goldEarned: 'Kazanƒ±lan Altƒ±n: ',
                reset: 'VERƒ∞Yƒ∞ SIFIRLA',
                resetConfirm: 'T√ºm veriler silinecek! Emin misin?',
                dataLoaded: 'Oyun verisi y√ºklendi!',
                dataSaved: 'ƒ∞lerleme kaydedildi!'
            }
        };

        // üéØ KAYDETME Sƒ∞STEMƒ∞
        function saveGameData() {
            const gameData = {
                gold: gold,
                currentShipSkin: currentShipSkin,
                currentMeteorSkin: currentMeteorSkin,
                shipSkins: {},
                meteorSkins: {},
                language: language
            };

            // Gemi skinlerini kaydet
            Object.keys(shipSkins).forEach(key => {
                gameData.shipSkins[key] = {
                    unlocked: shipSkins[key].unlocked
                };
            });

            // Meteor skinlerini kaydet
            Object.keys(meteorSkins).forEach(key => {
                gameData.meteorSkins[key] = {
                    unlocked: meteorSkins[key].unlocked
                };
            });

            localStorage.setItem('meteorPremiumData', JSON.stringify(gameData));
            
            // Kaydetme mesajƒ±
            showMessage(texts[language].dataSaved);
        }

        function loadGameData() {
            const savedData = localStorage.getItem('meteorPremiumData');
            if (savedData) {
                try {
                    const gameData = JSON.parse(savedData);
                    
                    // Altƒ±n ve skinleri y√ºkle
                    gold = gameData.gold || 0;
                    currentShipSkin = gameData.currentShipSkin || 'default';
                    currentMeteorSkin = gameData.currentMeteorSkin || 'default';
                    language = gameData.language || 'English';
                    
                    // Gemi skinlerini y√ºkle
                    if (gameData.shipSkins) {
                        Object.keys(gameData.shipSkins).forEach(key => {
                            if (shipSkins[key]) {
                                shipSkins[key].unlocked = gameData.shipSkins[key].unlocked || false;
                            }
                        });
                    }
                    
                    // Meteor skinlerini y√ºkle
                    if (gameData.meteorSkins) {
                        Object.keys(gameData.meteorSkins).forEach(key => {
                            if (meteorSkins[key]) {
                                meteorSkins[key].unlocked = gameData.meteorSkins[key].unlocked || false;
                            }
                        });
                    }
                    
                    // Gemi rengini g√ºncelle
                    ship.color = shipSkins[currentShipSkin].color;
                    
                    showMessage(texts[language].dataLoaded);
                    
                } catch (error) {
                    console.error('Error loading game data:', error);
                }
            }
        }

        function resetGameData() {
            if (confirm(texts[language].resetConfirm)) {
                localStorage.removeItem('meteorPremiumData');
                
                // Varsayƒ±lan deƒüerlere sƒ±fƒ±rla
                gold = 0;
                currentShipSkin = 'default';
                currentMeteorSkin = 'default';
                
                // T√ºm skinleri kilitle
                Object.keys(shipSkins).forEach(key => {
                    if (key !== 'default') {
                        shipSkins[key].unlocked = false;
                    }
                });
                
                Object.keys(meteorSkins).forEach(key => {
                    if (key !== 'default') {
                        meteorSkins[key].unlocked = false;
                    }
                });
                
                // Gemi rengini sƒ±fƒ±rla
                ship.color = shipSkins.default.color;
                
                // UI'ƒ± g√ºncelle
                drawGold();
                updateUI();
                setupShop();
            }
        }

        function showMessage(message) {
            const messageEl = document.createElement('div');
            messageEl.textContent = message;
            messageEl.style.cssText = `
                position: fixed;
                top: 20%;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0,255,0,0.8);
                color: white;
                padding: 0.8rem 1.5rem;
                border-radius: 10px;
                font-size: 1rem;
                font-weight: bold;
                z-index: 300;
                animation: fadeInOut 2s ease-in-out;
            `;
            
            document.body.appendChild(messageEl);
            
            setTimeout(() => {
                if (document.body.contains(messageEl)) {
                    document.body.removeChild(messageEl);
                }
            }, 2000);
        }
        
        // Gemi ayarlarƒ± - Premium
        const ship = {
            x: canvas.width / 2,
            y: canvas.height - 60,
            width: 40,
            height: 24,
            speed: 5,
            color: shipSkins.default.color,
            moveLeft: false,
            moveRight: false
        };
        
        // Meteorlar - Premium
        let meteors = [];
        function createMeteor() {
            const sizes = { Easy: 20, Normal: 15, Hard: 10 };
            const speeds = { Easy: 2, Normal: 3, Hard: 4 };
            return {
                x: Math.random() * canvas.width,
                y: -30,
                size: sizes[difficulty],
                speed: speeds[difficulty],
                color: meteorSkins[currentMeteorSkin].color
            };
        }
        
        // Mermiler - Premium
        let bullets = [];
        
        // √áizim fonksiyonlarƒ± - Premium
        function drawShip() {
            ctx.fillStyle = ship.color;
            ctx.beginPath();
            ctx.moveTo(ship.x, ship.y - ship.height/2);
            ctx.lineTo(ship.x - ship.width/2, ship.y + ship.height/2);
            ctx.lineTo(ship.x + ship.width/2, ship.y + ship.height/2);
            ctx.closePath();
            ctx.fill();

            // Premium glow efekti
            if (currentShipSkin !== 'default') {
                ctx.shadowColor = ship.color;
                ctx.shadowBlur = 15;
                ctx.fill();
                ctx.shadowBlur = 0;
            }
        }
        
        function drawMeteors() {
            meteors.forEach(meteor => {
                ctx.fillStyle = meteor.color;
                ctx.beginPath();
                ctx.arc(meteor.x, meteor.y, meteor.size, 0, Math.PI * 2);
                ctx.fill();

                // Premium meteor efekti
                if (currentMeteorSkin !== 'default') {
                    ctx.shadowColor = meteor.color;
                    ctx.shadowBlur = 10;
                    ctx.fill();
                    ctx.shadowBlur = 0;
                }
            });
        }
        
        function drawBullets() {
            ctx.fillStyle = '#00FF00';
            bullets.forEach(bullet => {
                ctx.fillRect(bullet.x, bullet.y, 5, 15);
                
                // Premium mermi efekti
                ctx.shadowColor = '#00FF00';
                ctx.shadowBlur = 5;
                ctx.fillRect(bullet.x, bullet.y, 5, 15);
                ctx.shadowBlur = 0;
            });
        }
        
        function drawLives() {
            const lang = texts[language];
            livesDisplay.textContent = lang.lives + '‚ù§Ô∏è'.repeat(lives);
        }
        
        function drawScore() {
            const lang = texts[language];
            scoreDisplay.textContent = lang.score + score;
        }
        
        function drawGold() {
            const lang = texts[language];
            const goldText = lang.gold + gold;
            goldDisplay.textContent = goldText;
            goldDisplayShop.textContent = goldText;
            menuGoldDisplay.textContent = goldText;
        }

        // PASS Sistemi - 5 meteor = 10 altƒ±n
        function updatePassSystem() {
            if (meteorsDestroyed >= 5) {
                const goldEarned = 10;
                gold += goldEarned;
                meteorsDestroyed = 0;
                drawGold();
                saveGameData(); // Altƒ±n kazanƒ±nca kaydet
                
                // Gold kazanma efekti
                showGoldEarned(goldEarned);
            }
        }

        function showGoldEarned(amount) {
            const lang = texts[language];
            const goldText = document.createElement('div');
            goldText.textContent = `+${amount} üí∞`;
            goldText.style.cssText = `
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                color: #FFD700;
                font-size: 2rem;
                font-weight: bold;
                text-shadow: 0 0 10px #000;
                z-index: 100;
                animation: floatUp 2s ease-out;
            `;
            
            document.body.appendChild(goldText);
            
            setTimeout(() => {
                document.body.removeChild(goldText);
            }, 2000);
        }

        // Oyun mantƒ±ƒüƒ± - Premium
        function updateGame() {
            if (gamePaused) return;
            
            // Gemi hareketi
            if (ship.moveLeft && ship.x - ship.width/2 > 0) {
                ship.x -= ship.speed;
            }
            if (ship.moveRight && ship.x + ship.width/2 < canvas.width) {
                ship.x += ship.speed;
            }
            
            // Meteor hareketi
            meteors.forEach((meteor, index) => {
                meteor.y += meteor.speed;
                
                // √áarpƒ±≈üma kontrol√º
                if (Math.abs(meteor.x - ship.x) < meteor.size + ship.width/2 && 
                    Math.abs(meteor.y - ship.y) < meteor.size + ship.height/2) {
                    meteors.splice(index, 1);
                    lives--;
                    drawLives();
                    if (lives <= 0) {
                        endGame();
                    }
                }
                
                // Mermi kontrol√º
                bullets.forEach((bullet, bIndex) => {
                    if (Math.abs(meteor.x - bullet.x) < meteor.size + 5 && 
                        Math.abs(meteor.y - bullet.y) < meteor.size + 15) {
                        meteors.splice(index, 1);
                        bullets.splice(bIndex, 1);
                        score += 10;
                        meteorsDestroyed++;
                        drawScore();
                        updatePassSystem();
                    }
                });
            });
            
            // Yeni meteor ekle
            const spawnRates = { Easy: 0.015, Normal: 0.025, Hard: 0.04 };
            if (Math.random() < spawnRates[difficulty]) {
                meteors.push(createMeteor());
            }
            
            // Mermi hareketi
            bullets.forEach((bullet, index) => {
                bullet.y -= 10;
                if (bullet.y < 0) bullets.splice(index, 1);
            });
        }
        
        // üéØ D√úZELTƒ∞LMƒ∞≈û MAƒûAZA Sƒ∞STEMƒ∞ - SKƒ∞N DEƒûƒ∞≈ûTƒ∞RME EKLENDƒ∞
        function setupShop() {
            const shopItems = document.getElementById('shopItems');
            shopItems.innerHTML = '';

            // Gemi skinleri ba≈ülƒ±ƒüƒ±
            const shipHeader = document.createElement('h3');
            shipHeader.textContent = 'üöÄ SHIP SKINS - 35 GOLD';
            shipHeader.style.color = '#FFD700';
            shipHeader.style.textAlign = 'center';
            shipHeader.style.marginBottom = '1rem';
            shopItems.appendChild(shipHeader);

            // Gemi skinleri
            Object.keys(shipSkins).forEach(skinKey => {
                if (skinKey === 'default') return;
                
                const skin = shipSkins[skinKey];
                const item = document.createElement('div');
                item.className = `shop-item ${skin.unlocked ? 'unlocked' : 'locked'}`;
                item.innerHTML = `
                    <h3>${skin.name}</h3>
                    <div style="color: ${skin.color}; font-size: 2rem;">‚ñ≤</div>
                    ${!skin.unlocked ? `
                        <div class="price-tag">${texts[language].price} ${skin.price} üí∞</div>
                        <button onclick="buyItem('ship', '${skinKey}')" style="
                            background: #FFD700;
                            color: black;
                            border: none;
                            padding: 0.5rem 1rem;
                            border-radius: 10px;
                            cursor: pointer;
                            font-weight: bold;
                        ">
                            ${texts[language].buy}
                        </button>
                    ` : `
                        <div style="color: #00FF00; margin: 0.5rem 0;">‚úì UNLOCKED</div>
                        <button onclick="buyItem('ship', '${skinKey}')" style="
                            background: ${currentShipSkin === skinKey ? '#00FF00' : '#0066FF'};
                            color: white;
                            border: none;
                            padding: 0.5rem 1rem;
                            border-radius: 10px;
                            cursor: pointer;
                            font-weight: bold;
                        ">
                            ${currentShipSkin === skinKey ? '‚úÖ ACTIVE' : 'üéØ ACTIVATE'}
                        </button>
                    `}
                `;
                shopItems.appendChild(item);
            });

            // Meteor skinleri ba≈ülƒ±ƒüƒ±
            const meteorHeader = document.createElement('h3');
            meteorHeader.textContent = '‚òÑÔ∏è METEOR SKINS - 25 GOLD';
            meteorHeader.style.color = '#FFD700';
            meteorHeader.style.textAlign = 'center';
            meteorHeader.style.marginTop = '2rem';
            meteorHeader.style.marginBottom = '1rem';
            shopItems.appendChild(meteorHeader);

            // Meteor skinleri
            Object.keys(meteorSkins).forEach(skinKey => {
                if (skinKey === 'default') return;
                
                const skin = meteorSkins[skinKey];
                const item = document.createElement('div');
                item.className = `shop-item ${skin.unlocked ? 'unlocked' : 'locked'}`;
                item.innerHTML = `
                    <h3>${skin.name}</h3>
                    <div style="color: ${skin.color}; font-size: 2rem;">‚óè</div>
                    ${!skin.unlocked ? `
                        <div class="price-tag">${texts[language].price} ${skin.price} üí∞</div>
                        <button onclick="buyItem('meteor', '${skinKey}')" style="
                            background: #FFD700;
                            color: black;
                            border: none;
                            padding: 0.5rem 1rem;
                            border-radius: 10px;
                            cursor: pointer;
                            font-weight: bold;
                        ">
                            ${texts[language].buy}
                        </button>
                    ` : `
                        <div style="color: #00FF00; margin: 0.5rem 0;">‚úì UNLOCKED</div>
                        <button onclick="buyItem('meteor', '${skinKey}')" style="
                            background: ${currentMeteorSkin === skinKey ? '#00FF00' : '#0066FF'};
                            color: white;
                            border: none;
                            padding: 0.5rem 1rem;
                            border-radius: 10px;
                            cursor: pointer;
                            font-weight: bold;
                        ">
                            ${currentMeteorSkin === skinKey ? '‚úÖ ACTIVE' : 'üéØ ACTIVATE'}
                        </button>
                    `}
                `;
                shopItems.appendChild(item);
            });
        }

        // üéØ D√úZELTƒ∞LMƒ∞≈û SATIN ALMA FONKSƒ∞YONU - SKƒ∞N DEƒûƒ∞≈ûTƒ∞RME EKLENDƒ∞
        function buyItem(type, itemKey) {
            const items = type === 'ship' ? shipSkins : meteorSkins;
            const item = items[itemKey];
            
            if (!item.unlocked) {
                // SATIN ALMA
                if (gold >= item.price) {
                    gold -= item.price;
                    item.unlocked = true;
                    
                    // Hemen aktif et
                    if (type === 'ship') {
                        currentShipSkin = itemKey;
                        ship.color = item.color;
                    } else {
                        currentMeteorSkin = itemKey;
                    }
                    
                    drawGold();
                    setupShop();
                    updateUI();
                    saveGameData();
                    
                    showPurchaseSuccess(item.name);
                }
            } else {
                // SKƒ∞N DEƒûƒ∞≈ûTƒ∞RME
                if (type === 'ship') {
                    currentShipSkin = itemKey;
                    ship.color = item.color;
                } else {
                    currentMeteorSkin = itemKey;
                }
                
                setupShop();
                saveGameData();
                showSkinActivated(item.name);
            }
        }

        function showPurchaseSuccess(itemName) {
            const successText = document.createElement('div');
            successText.textContent = `‚úÖ ${itemName} purchased & activated!`;
            successText.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(0,255,0,0.8);
                color: white;
                padding: 1rem 2rem;
                border-radius: 10px;
                font-size: 1.2rem;
                font-weight: bold;
                z-index: 300;
                animation: fadeInOut 2s ease-in-out;
            `;
            
            document.body.appendChild(successText);
            
            setTimeout(() => {
                document.body.removeChild(successText);
            }, 2000);
        }

        function showSkinActivated(itemName) {
            const activatedText = document.createElement('div');
            activatedText.textContent = `‚úÖ ${itemName} activated!`;
            activatedText.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(0,100,255,0.8);
                color: white;
                padding: 1rem 2rem;
                border-radius: 10px;
                font-size: 1.2rem;
                font-weight: bold;
                z-index: 300;
                animation: fadeInOut 2s ease-in-out;
            `;
            
            document.body.appendChild(activatedText);
            
            setTimeout(() => {
                document.body.removeChild(activatedText);
            }, 2000);
        }

        // Duraklatma fonksiyonu
        function togglePause() {
            if (!gameActive) return;
            
            gamePaused = !gamePaused;
            pauseBtn.textContent = gamePaused ? "‚ñ∂" : "‚è∏";
            
            if (gamePaused) {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = '#FFD700';
                ctx.font = '30px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(texts[language].pause, canvas.width/2, canvas.height/2);
                ctx.textAlign = 'left';
            }
        }
        
        // Oyun biti≈üi
        function endGame() {
            gameActive = false;
            gamePaused = false;
            menu.style.display = 'flex';
            pauseBtn.style.display = 'none';
            lives = 3;
            score = 0;
            meteorsDestroyed = 0;
            drawLives();
            drawScore();
            drawGold();
            saveGameData(); // Oyun bitince kaydet
        }
        
        // Oyun d√∂ng√ºs√º
        function gameLoop() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            if (gameActive) {
                updateGame();
                drawMeteors();
                drawBullets();
                drawShip();
            }
            
            requestAnimationFrame(gameLoop);
        }
        
        // Kontroller
        function setupControls() {
            // Sol buton
            document.getElementById('leftBtn').addEventListener('touchstart', () => {
                ship.moveLeft = true;
            });
            document.getElementById('leftBtn').addEventListener('touchend', () => {
                ship.moveLeft = false;
            });
            
            // Saƒü buton
            document.getElementById('rightBtn').addEventListener('touchstart', () => {
                ship.moveRight = true;
            });
            document.getElementById('rightBtn').addEventListener('touchend', () => {
                ship.moveRight = false;
            });
            
            // Ate≈ü butonu
            document.getElementById('shootBtn').addEventListener('click', () => {
                if (gameActive && !gamePaused) {
                    bullets.push({x: ship.x, y: ship.y - 30});
                }
            });
            
            // Duraklatma butonu
            pauseBtn.addEventListener('click', togglePause);
        }
        
        // Zorluk se√ßimi
        function setupDifficulty() {
            document.getElementById('easyBtn').addEventListener('click', function() {
                difficulty = 'Easy';
                document.querySelectorAll('.diff-btn').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
            });
            
            document.getElementById('normalBtn').addEventListener('click', function() {
                difficulty = 'Normal';
                document.querySelectorAll('.diff-btn').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
            });
            
            document.getElementById('hardBtn').addEventListener('click', function() {
                difficulty = 'Hard';
                document.querySelectorAll('.diff-btn').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
            });
        }
        
        // Dil deƒüi≈ütirme
        document.getElementById('language-btn').addEventListener('click', function() {
            language = language === 'English' ? 'Turkish' : 'English';
            updateUI();
            saveGameData(); // Dil deƒüi≈üince kaydet
        });

        // Maƒüaza butonlarƒ±
        document.getElementById('shopBtn').addEventListener('click', function() {
            menu.style.display = 'none';
            shopMenu.style.display = 'flex';
            setupShop();
        });

        document.getElementById('backBtn').addEventListener('click', function() {
            shopMenu.style.display = 'none';
            menu.style.display = 'flex';
        });

        // Yeni geri butonu - hem √ºstte hem altta √ßalƒ±≈üƒ±r
        document.getElementById('shopBackBtn').addEventListener('click', function() {
            shopMenu.style.display = 'none';
            menu.style.display = 'flex';
        });

        // Reset butonu
        document.getElementById('resetBtn').addEventListener('click', resetGameData);
        
        // UI g√ºncelleme
        function updateUI() {
            const lang = texts[language];
            document.getElementById('startBtn').textContent = lang.start;
            document.getElementById('easyBtn').textContent = lang.easy;
            document.getElementById('normalBtn').textContent = lang.normal;
            document.getElementById('hardBtn').textContent = lang.hard;
            document.getElementById('language-btn').textContent = lang.language;
            document.getElementById('shopBtn').textContent = lang.shop;
            document.getElementById('backBtn').textContent = lang.back;
            document.getElementById('resetBtn').textContent = lang.reset;
            drawLives();
            drawScore();
            drawGold();
        }
        
        // Oyun ba≈ülatma
        document.getElementById('startBtn').addEventListener('click', () => {
            gameActive = true;
            gamePaused = false;
            score = 0;
            lives = 3;
            meteorsDestroyed = 0;
            meteors = [];
            bullets = [];
            menu.style.display = 'none';
            pauseBtn.style.display = 'block';
            pauseBtn.textContent = '‚è∏';
            ship.x = canvas.width / 2;
            updateUI();
        });
        
        // Global fonksiyonlar
        window.buyItem = buyItem;

        // CSS Animasyonu
        const style = document.createElement('style');
        style.textContent = `
            @keyframes floatUp {
                0% { transform: translate(-50%, -50%); opacity: 1; }
                100% { transform: translate(-50%, -100px); opacity: 0; }
            }
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translate(-50%, -60%); }
                50% { opacity: 1; transform: translate(-50%, -50%); }
                100% { opacity: 0; transform: translate(-50%, -40%); }
            }
            .menu-title {
                font-size: 2.5rem;
                margin-bottom: 2rem;
                color: #FFD700;
                text-shadow: 0 0 10px #FFA500;
            }
        `;
        document.head.appendChild(style);
        
        // üéØ BA≈ûLANGI√á - VERƒ∞Yƒ∞ Y√úKLE
        loadGameData();
        
        // Ba≈ülangƒ±√ß
        setupControls();
        setupDifficulty();
        updateUI();
        gameLoop();
    </script>
</body>
</html>
        </textarea>

        <div class="btn-group">
            <a href="#" class="btn btn-download" id="download-btn" download="ultimate_meteor_premium.txt">
                üíé Premium Kodu ƒ∞NDƒ∞R (.TXT)
            </a>
            
            <button class="btn btn-upload" id="upload-btn">
                üìã Kaynak Kodu KOPYALA
            </button>
        </div>

        <div class="success-message" id="successMessage">
            ‚úì Kod ba≈üarƒ±yla kopyalandƒ±!
        </div>
    </div>
    
    <script>
        const sourceTextArea = document.getElementById('source-text');
        const uploadBtn = document.getElementById('upload-btn');
        const downloadBtn = document.getElementById('download-btn');
        const successMessage = document.getElementById('successMessage');

        // Sayfa y√ºklendiƒüinde indirme linkini hazƒ±rla
        window.addEventListener('DOMContentLoaded', () => {
            const textContent = sourceTextArea.value;
            const blob = new Blob([textContent], { type: 'text/plain;charset=utf-8' });
            downloadBtn.href = URL.createObjectURL(blob);
            downloadBtn.download = 'ultimate_meteor_premium.txt';
        });

        // Kopyalama butonuna tƒ±klandƒ±ƒüƒ±nda
        uploadBtn.addEventListener('click', () => {
            sourceTextArea.select();
            sourceTextArea.setSelectionRange(0, 99999);

            try {
                navigator.clipboard.writeText(sourceTextArea.value)
                    .then(() => {
                        // Ba≈üarƒ± mesajƒ±nƒ± g√∂ster
                        successMessage.style.display = 'block';
                        
                        // Buton g√∂r√ºn√ºm√ºn√º g√ºncelle
                        uploadBtn.textContent = "‚úì KOPYALANDI!";
                        uploadBtn.style.background = "linear-gradient(to bottom, #2ECC71, #27AE60)";
                        
                        // 2 saniye sonra eski haline d√∂nd√ºr
                        setTimeout(() => {
                            successMessage.style.display = 'none';
                            uploadBtn.textContent = "üìã Kaynak Kodu KOPYALA";
                            uploadBtn.style.background = "linear-gradient(to bottom, #4caf50, #388e3c)";
                        }, 2000);
                    })
                    .catch(err => {
                        // Fallback
                        document.execCommand('copy');
                        alert('Kaynak kodu panoya kopyalandƒ±!');
                    });
            } catch (err) {
                document.execCommand('copy');
                alert('Kaynak kodu panoya kopyalandƒ±!');
            }
        });

        // Textarea'ya tƒ±klandƒ±ƒüƒ±nda otomatik se√ß
        sourceTextArea.addEventListener('click', function() {
            this.select();
        });

        // Buton hover efektleri
        const buttons = document.querySelectorAll('.btn');
        buttons.forEach(btn => {
            btn.addEventListener('mouseover', function() {
                if (!this.classList.contains('btn-upload') || this.textContent !== '‚úì KOPYALANDI!') {
                    this.style.transform = 'translateY(-3px)';
                }
            });
            
            btn.addEventListener('mouseout', function() {
                if (!this.classList.contains('btn-upload') || this.textContent !== '‚úì KOPYALANDI!') {
                    this.style.transform = 'translateY(0)';
                }
            });
        });
    </script>
</body>
</html>
